{% extends 'base.html.twig' %}

{% block title %}Hello MatchCalendarController!
{% endblock %}

{% block body %}
				{# {{ dump(id_team) }} #}

{{ include('main_nav.html.twig', {'idteam': idteam}) }}

<div class="body-wrapper">

    <div class="menu-tab">
        <center>
            <h4>Calendrier des matches</h4>
        </center>
    </div>


    <div class="main-wrapper">
        <div class="dashboard">
            <div>
                <table id="match-calendar" class="responsive stripe hover cell-border dt-body-center">
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th>Date</th>
                            <th>Équipe local</th>
                            <th></th>
                            <th>Équipe visiteur</th>
                            <th>Durée</th>
                        </tr>
                    </thead>
                    <tbody>

                        {% for match in match %}
                        <tr>

                            <td><a href="/stat/match/{{ match_id.id }}">{{ match.matchtype.name }}<br><small>voir
                                        détails</small></a></td>
                            <td>{{ match.date |date("m/d/Y H:i:s") }}</td>
                            <td>{{ match.localteam }}</td>
                            <td>vs</td>
                            <td>{{ match.visitorteam }}</td>
                            <td>{{ match.duration |date('H:i:s') }}</td>

                        </tr>
                        {% endfor %}


                    </tbody>

                    {# <li>{{ match.stats }}</li> #}
                    {# <li>{% for comp in match.composition['backer'] %}
												                Position possible : {{comp}}<br>
												                {% endfor %}
												            </li> #}

            </tbody>
        </table>
        <a href="{{ path('add_match', {id_team: idteam}) }}" class="btn-lg pointer">+ Ajouter un match</a>

                {# <a href="{{ path('add_match') }}" class="btn-lg pointer">+ Ajouter un match</a> #}
            </div>

            <div class="dashboard-content">
                <div>
                    <h4>Résultat des 5 derniers matches</h4>
                    <!-- la suite -->
                    <!-- pour guillaume -->
                    <!-- recap 5 dernier match-->
                    {% for resultat in resultat %}
                    {% if resultat == 1 %}
                    <p>win</p>
                    {% endif %}
                    {% if resultat == 2 %}
                    <p>loser</p>
                    {% endif %}
                    {% if resultat == 0 %}
                    <p>egalite</p>
                    {% endif %}

                    {% endfor %}
                </div>
                <div>
                    <h4>Les 5 meilleurs buteurs</h4>
                    <!-- 5 meilleurs buteurs-->
                    <table id="best-scorers">
                        {% for meilleur_buteur in meilleur_buteur %}
                        <tr>
                            <td> 
                                <!-- Le 0 affiche le last name -->
                                {{ meilleur_buteur.0 }}
                                <!-- le 1 affiche le first name -->
                                {{ meilleur_buteur.1 }}
                            </td>
                            <td>
                                <!-- le 2 affiche le nombre de point total de la saison mis par le joueur -->
                                {{ meilleur_buteur.2 }}<br>
                            </td>
                        </tr>

                        {% endfor %}
                    </table>
                </div>

            </div>

        </div>
    </div>
</div>




<script>
    $(document).ready(function () {
        $('#match-calendar').DataTable({
            "language": {
                "url": "{{ asset('js/french.lang') }}"
            },
            responsive: true,
            autoWidth: false,
        });
    });
</script>
{% endblock %}